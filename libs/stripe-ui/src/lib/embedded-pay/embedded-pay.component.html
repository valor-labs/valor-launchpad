<main id="main" class="checkout" [ngClass]="mainClasses">
  <div id="checkout">
    <!--    TODO: Add this back-->
    <!--    <div id="payment-request" [ngClass]="{'visible':paymentRequestVisible}">-->
    <!--      <div id="payment-request-button"></div>-->
    <!--    </div>-->
    <form id="payment-form" [formGroup]='addressForm'>
      <p class="instruction"><span>Complete</span>/<span id="generate" (click)="generate()">generate</span> your
        shipping and payment details
        below</p>
      <section>
        <h2>Shipping &amp; Billing Information</h2>
        <fieldset class="with-state">
          <label>
            <span>Name</span>
            <input name="name" formControlName="name" class="field" placeholder="Jenny Rosen" required>
          </label>
          <label>
            <span>Email</span>
            <input name="email" formControlName="email" type="email" class="field" placeholder="jenny@example.com"
                   required>
          </label>
          <label>
            <span>Address</span>
            <input name="address" formControlName="address" class="field" placeholder="185 Berry Street Suite 550">
          </label>
          <label class="city">
            <span>City</span>
            <input name="city" formControlName="city" class="field" placeholder="San Francisco">
          </label>
          <label class="state">
            <span>State</span>
            <input name="state" formControlName="state" class="field" placeholder="CA">
          </label>
          <label class="zip">
            <span>{{zipspan}}</span>
            <input name="postal_code" formControlName="postal_code" class="field" placeholder="{{zipplaceholder}}">
          </label>
          <label class="select">
            <span>Country</span>
            <div id="country" class="field {{addressForm.controls['country'].value|lowercase}}">
              <select name="country" formControlName="country">
                <option value="AU">Australia</option>
                <option value="AT">Austria</option>
                <option value="BE">Belgium</option>
                <option value="BR">Brazil</option>
                <option value="CA">Canada</option>
                <option value="CN">China</option>
                <option value="DK">Denmark</option>
                <option value="FI">Finland</option>
                <option value="FR">France</option>
                <option value="DE">Germany</option>
                <option value="HK">Hong Kong</option>
                <option value="IE">Ireland</option>
                <option value="IT">Italy</option>
                <option value="JP">Japan</option>
                <option value="LU">Luxembourg</option>
                <option value="MY">Malaysia</option>
                <option value="MX">Mexico</option>
                <option value="NL">Netherlands</option>
                <option value="NZ">New Zealand</option>
                <option value="NO">Norway</option>
                <option value="PL">Poland</option>
                <option value="PT">Portugal</option>
                <option value="SG">Singapore</option>
                <option value="ES">Spain</option>
                <option value="SE">Sweden</option>
                <option value="CH">Switzerland</option>
                <option value="GB">United Kingdom</option>
                <option value="US">United States</option>
              </select>
            </div>
          </label>
        </fieldset>
        <p class="tip">Select another country to see different payment options.</p>
      </section>
      <section>
        <h2>Payment Information</h2>
        <nav id="payment-methods" [ngClass]="{'visible': config.paymentMethods.length>1}">
          <ul>
            <li *ngFor="let paymentMethod of config.paymentMethods">
              <input type="radio" name="payment" formControlName="payment" id="payment-{{paymentMethod.value}}" [value]="paymentMethod.value">
              <label for="payment-{{paymentMethod.value}}">{{paymentMethod.name}}</label>
            </li>
          </ul>
        </nav>
        <div class="payment-info card" [hidden]="!(addressForm.controls['payment'].value =='card')">
          <fieldset>
            <label>
              <span>Card</span>
              <div id="card-element" class="field"></div>
            </label>
          </fieldset>
        </div>
        <div class="payment-info sepa_debit" [hidden]="!(addressForm.controls['payment'].value =='sepa_debit')">
          <fieldset>
            <label>
              <span>IBAN</span>
              <div id="iban-element" class="field"></div>
            </label>
          </fieldset>
          <p class="notice">By providing your IBAN and confirming this payment, you’re authorizing Payments Demo and
            Stripe, our payment
            provider, to send instructions to your bank to debit your account. You’re entitled to a refund under the
            terms
            and conditions of your agreement with your bank.</p>
        </div>
        <div class="payment-info ideal" [hidden]="!(addressForm.controls['payment'].value =='ideal')">
          <fieldset>
            <label>
              <span>iDEAL Bank</span>
              <div id="ideal-bank-element" class="field"></div>
            </label>
          </fieldset>
        </div>
        <div class="payment-info wechat" [hidden]="!(addressForm.controls['payment'].value =='wechat')">
          <div id="wechat-qrcode"></div>
          <p class="notice">Click the button below to generate a QR code for WeChat.</p>
        </div>
        <div class="payment-info au_becs_debit" [hidden]="!(addressForm.controls['payment'].value =='au_becs_debit')">
          <fieldset>
            <label>
              <span>Bank Account</span>
              <div id="becs-bank-element" class="field"></div>
            </label>
          </fieldset>
          <p class="notice">By providing your bank account details and confirming this payment, you agree to this Direct
            Debit Request and
            the Direct Debit Request service agreement, and authorise Stripe Payments Australia Pty Ltd ACN 160 180 343
            Direct Debit User ID
            number 507156 (“Stripe”) to debit your account through the Bulk Electronic Clearing System (BECS) on behalf
            of Stripe Payments Demo
            (the “Merchant”) for any amounts separately communicated to you by the Merchant. You certify that you are
            either an account
            holder or an authorised signatory on the account listed above.</p>
        </div>
      </section>
      <button class="payment-button" type="button" (click)="submit()"
              [attr.disabled]="submitDisabled?true:null">{{submitButtonPayText}}</button>
    </form>
    <div id="card-errors" class="element-errors"></div>
    <div id="iban-errors" class="element-errors"></div>
    <div id="becs-errors" class="element-errors"></div>
  </div>
  <div id="confirmation">
    <div class="status processing">
      <h1>Completing your order…</h1>
      <p>We’re just waiting for the confirmation from your bank… This might take a moment but feel free to close this
        page.</p>
      <p>We’ll send your receipt via email shortly.</p>
    </div>
    <div class="status success">
      <h1>Thanks for your order!</h1>
      <p>Woot! You successfully made a payment with Stripe.</p>
      <p class="note">{{confirmationMessage}}</p>
    </div>
    <div class="status receiver">
      <h1>Thanks! One last step!</h1>
      <p>Please make a payment using the details below to complete your order.</p>
      <div class="info" [innerHTML]="receiverInfo"></div>
    </div>
    <div class="status error">
      <h1>Oops, payment failed.</h1>
      <p>It looks like your order could not be paid at this time. Please try again or select a different payment
        option.</p>
      <p class="error-message">{{errorText}}</p>
    </div>
  </div>
</main>
<!--<aside id="summary">-->
<valor-launchpad-order-summary id="summary" [orderTotal]="orderTotal" [live]="live" [orderItems]="orderItems"
                               [subtotal]="subtotal"></valor-launchpad-order-summary>
<!--</aside>-->
