<a class='btn btn-primary float-end mt-n1' (click)='onOpenCreateNewProjectModal()'><i class='fas fa-plus'></i>
  New project</a>
<h1 class='h3 mb-3'>Projects</h1>

<div class='row'>
  <valor-launchpad-project-list-item *ngFor='let item of projects' [config]='item'></valor-launchpad-project-list-item>
</div>

<valor-launchpad-offcanvas [show]='isCreateProjectShow' [title]="'New Project'" position='end'
                           (onClose)='onCloseProjectShow()'>
  <div offcanvas-body>
    <div class='col-6' [formGroup]='newProjectFg'>
      <div class='mb-3'>
        <label class='form-label'>Title</label>
        <input valorLaunchpadInput vlSize='large' formControlName='projectTitle' />
        <ng-container *ngIf='newProjectFg.get("projectTitle").touched'>
          <label class='error small form-text invalid-feedback'
                 *ngIf='newProjectFg.get("projectTitle").hasError("required")'>
            This is a required input.
          </label>
          <label class='error small form-text invalid-feedback'
                 *ngIf='newProjectFg.get("projectTitle").hasError("isExists")'>
            The project is exist.
          </label>
        </ng-container>
      </div>
      <div class='mb-3'>
        <label class='form-label'>Content</label>
        <input valorLaunchpadInput vlSize='large' formControlName='projectContent' />
      </div>
      <div class='mb-3'>
        <label class='form-label'>Progress</label>
        <select class='form-select' formControlName='projectProgress'>
          <option *ngFor='let item of projectProgressItem' [value]=item>{{item}}</option>
        </select>
      </div>
      <div class='mb-3'>
        <label class='form-label'>Status</label>
        <select class='form-select' formControlName='projectStatus'>
          <option *ngFor='let item of projectStatusItem' value='{{item.value}}'>{{item.key}}</option>
        </select>
      </div>
      <div class='mb-3'>
        <label class='form-label'>Action</label>
        <valor-launchpad-checkbox-group
          [options]='projectActionOptions'
          formControlName='projectActions'
        ></valor-launchpad-checkbox-group>
        <label class='error small form-text invalid-feedback'
               *ngIf='newProjectFg.get("projectActions").touched && newProjectFg.get("projectActions").hasError("required")'>
          This is a required input.
        </label>
      </div>
      <div class='mb-3'>
        <label class='form-label'>Project picture</label>
        <input type='file' #projectPicture valorLaunchpadInput formControlName='projectFile'>
        <ng-container *ngIf='newProjectFg.get("projectTitle").touched'>
          <label class='error small form-text invalid-feedback'
                 *ngIf='newProjectFg.get("projectFile").hasError("required")'>
            This is a required input.
          </label>
          <label class='error small form-text invalid-feedback'
                 *ngIf='newProjectFg.get("projectFile").hasError("inValidExt")'>
            Only accept file suffix with {{ validPicSuffixs.join() }}.
          </label>
        </ng-container>
      </div>
    </div>
    <button type='submit' class='mt-3 btn btn-lg btn-primary' (click)='onCreateProject()'>Create Project</button>
  </div>
</valor-launchpad-offcanvas>
